var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return l(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let y;function b(t){y=t}function h(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const x=[],$=[],k=[],v=[],w=Promise.resolve();let _=!1;function T(t){k.push(t)}let E=!1;const j=new Set;function L(){if(!E){E=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];b(e),M(e.$$)}for(b(null),x.length=0;$.length;)$.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];j.has(e)||(j.add(e),e())}k.length=0}while(x.length);for(;v.length;)v.pop()();_=!1,E=!1,j.clear()}}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const A=new Set;function C(t,e){-1===t.$$.dirty[0]&&(x.push(t),_||(_=!0,w.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(a,i,c,u,l,d,p=[-1]){const g=y;b(a);const f=i.props||{},m=a.$$={fragment:null,ctx:null,props:d,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:n(),dirty:p,skip_bound:!1};let h=!1;if(m.ctx=c?c(a,f,((t,e,...n)=>{const r=n.length?n[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&C(a,t)),e})):[],m.update(),h=!0,r(m.before_update),m.fragment=!!u&&u(m.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);m.fragment&&m.fragment.l(t),t.forEach(s)}else m.fragment&&m.fragment.c();i.intro&&((x=a.$$.fragment)&&x.i&&(A.delete(x),x.i($))),function(t,n,a){const{fragment:i,on_mount:c,on_destroy:s,after_update:u}=t.$$;i&&i.m(n,a),T((()=>{const n=c.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(T)}(a,i.target,i.anchor),L()}var x,$;b(g)}function D(t){let e,n,r;return{c(){e=u("div"),n=l(t[5]),r=l("x spaceBars"),g(e,"class","special-moves")},m(t,o){c(t,e,o),i(e,n),i(e,r)},p(t,e){32&e&&f(n,t[5])},d(t){t&&s(e)}}}function N(e){let n,a,y,b,h,x,$,k,v,w,_,T,E,j,L,M,A,C,H,N,R,S=e[5]>0&&D(e);return{c(){n=u("div"),a=u("div"),y=u("div"),h=d(),x=u("div"),$=d(),k=u("div"),v=u("h2"),v.textContent="snake",w=d(),_=u("button"),_.textContent="Hit enter to play",T=d(),S&&S.c(),E=d(),j=u("div"),L=l("score: "),M=l(e[4]),A=d(),C=u("audio"),C.innerHTML='<track src="" kind="captions" srclang="en" label="english_captions"/>',g(y,"class","background-image"),g(y,"style",b=e[7][e[3]%10]+"; transition: background 1.2s ease; background-position: center center; background-size: cover; "),g(x,"class","shadow"),m(x,"opacity",e[6]?"1":"0.75"),m(x,"transition","opacity 1s ease"),g(v,"class","title"),g(_,"class","start"),g(k,"class","game-board"),g(j,"class","overlay-score"),g(a,"class","game-board-container"),g(n,"class","container"),g(C,"id","music"),C.loop=!0,C.src!==(H="audio/theme.mp3")&&g(C,"src","audio/theme.mp3")},m(t,r){c(t,n,r),i(n,a),i(a,y),i(a,h),i(a,x),i(a,$),i(a,k),i(k,v),i(k,w),i(k,_),e[9](k),i(a,T),S&&S.m(a,null),i(a,E),i(a,j),i(j,L),i(j,M),c(t,A,r),c(t,C,r),e[10](C),N||(R=[p(window,"keydown",e[8]),p(_,"click",(function(){o(e[2])&&e[2].apply(this,arguments)}))],N=!0)},p(t,[n]){e=t,8&n&&b!==(b=e[7][e[3]%10]+"; transition: background 1.2s ease; background-position: center center; background-size: cover; ")&&g(y,"style",b),64&n&&m(x,"opacity",e[6]?"1":"0.75"),e[5]>0?S?S.p(e,n):(S=D(e),S.c(),S.m(a,E)):S&&(S.d(1),S=null),16&n&&f(M,e[4])},i:t,o:t,d(t){t&&s(n),e[9](null),S&&S.d(),t&&s(A),t&&s(C),e[10](null),N=!1,r(R)}}}function R(t,e,n){let r,o,a,i,c=!1,s=105,u=0;let l=0;const d=["radial-gradient(circle, rgba(2,0,36,1) 0%, rgba(244,59,207,1) 50%, rgba(38,237,255,1) 100%)","radial-gradient(circle, rgba(38,237,255,1) 0%, rgba(2,0,36,1) 11%, rgba(2,0,36,1) 48%, rgba(244,59,207,1) 85%, rgba(38,237,255,1) 100%)","radial-gradient(circle, rgba(38,237,255,1) 0%, rgba(2,0,36,1) 21%, rgba(2,0,36,1) 58%, rgba(244,59,207,1) 99%)","radial-gradient(circle, rgba(244,59,207,1) 0%, rgba(38,237,255,1) 48%, rgba(2,0,36,1) 83%)"];let p=[{x:8,y:3},{x:8,y:2},{x:8,y:1}];const g={x:8,y:10};let f="D",m=0,y=0,b={},x=new Audio("./audio/coin.mp3");x.volume=.4;let k=new Audio("./audio/hit.mp3");k.volume=.8;let v=new Audio("./audio/lvlup.mp3");v.volume=.8;let w=new Audio("./audio/lvlup2.mp3");w.volume=.8;let _=new Audio("./audio/reload.mp3");_.volume=.7;let T=new Audio("./audio/death.mp3");T.volume=.6;const E=({x:t,y:e})=>{let n=!1;return p.forEach((r=>{t===r.x&&e===r.y&&(n=!0)})),n};let j=!1;h((()=>{const t=()=>{const t=[];p.forEach(((e,r)=>{if(0===r){let r={};switch(f){case"U":1===e.y?n(6,j=!0):r={x:e.x,y:e.y-1};break;case"D":21===e.y&&n(6,j=!0),r={x:e.x,y:e.y+1};break;case"L":1===e.x&&n(6,j=!0),r={x:e.x-1,y:e.y};break;case"R":r={x:e.x+1,y:e.y},21===e.x&&n(6,j=!0)}E(r)?n(6,j=!0):t.push(r)}else t.push({x:p[r-1].x,y:p[r-1].y})})),t[0].x===g.x&&t[0].y===g.y&&(x.currentTime=0,x.play(),n(4,m++,m),m%20==0?(s-=1,n(5,y++,y),n(3,u++,u),a.pause(),w.play(),setTimeout((()=>{j||a.play()}),2400)):m%10==0&&(s-=1,n(3,u++,u),n(5,y++,y),a.pause(),v.play(),setTimeout((()=>{j||a.play()}),1400)),t.push({x:p[p.length-1].x,y:p[p.length-1].y}),(()=>{let t,e,n=!0;for(;n;)t=Math.floor(20*Math.random()+1),e=Math.floor(20*Math.random()+1),n=E({x:t,y:e}),n||(g.x=t,g.y=e)})()),j?(t=>{a.pause(),v.pause(),w.pause(),_.pause(),k.play();const e=document.createElement("div");e.className="lose-screen",e.innerHTML="You died! Your score:<br/>&nbsp;<br/>&nbsp;",o.append(e),setTimeout((()=>{T.play(),setTimeout((()=>{e.innerHTML=`You died! Your score:<br/><div class="final-score">${m}</div>&nbsp;`,setTimeout((()=>{c=!1,e.innerHTML=`You died! Your score:<br/><div class="final-score">${m}</div>Hit return to replay`}),1015)}),850)}),250)})():((t=>{n(0,o.innerHTML="",o),t.forEach(((t,e)=>{const n=document.createElement("div");n.className="snake",e>0&&(n.style.opacity=1-e/p.length*.8),n.style.gridRowStart=t.y,n.style.gridColumnStart=t.x,o.appendChild(n)}));const e=document.createElement("div");e.style.background=d[l%4],e.className="food",e.style.gridRowStart=g.y,e.style.gridColumnStart=g.x,o.appendChild(e),l++})(t),p=t)};n(2,i=()=>{if(!c){c=!0,a.play();const e=function(){j?clearTimeout(r):(t(),r=setTimeout(e,s))};e()}})}));return[o,a,i,u,m,y,j,["background: url('imgs/comb.jpg');","background: url('imgs/space.jpg');","background: url('imgs/winter.jpg');","background: url('imgs/water.jpg');","background: url('imgs/leaves.jpg');","background: url('imgs/mountain.jpg');","background: url('imgs/dust.jpg');","background: url('imgs/stone.jpg');","background: url('imgs/brick.jpg');","background: url('imgs/redstripe.jpg');"],({which:t})=>{if(13===t&&!j&&!c)return i();if(13===t&&j&&!c)return s=105,f="D",n(1,a.currentTime=0,a),n(0,o.innerHTML="",o),p=[{x:8,y:3},{x:8,y:2},{x:8,y:1}],g.x=8,g.y=10,n(4,m=0),n(6,j=!1),n(3,u=0),n(5,y=0),void i();if(32===t&&!j&&c)return void(y>0&&(_.currentTime=0,x.currentTime=0,_.play(),x.play(),p.length=p.length-8,s-=5,n(4,m+=20),n(5,y--,y)));let e=p[0],r=p[1];if(b={L:e.x<r.x,R:e.x>r.x,D:e.y>r.y,U:e.y<r.y},!j)switch(t){case 37:b.R||(f="L");break;case 38:b.D||(f="U");break;case 39:b.L||(f="R");break;case 40:b.U||(f="D")}},function(t){$[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){$[t?"unshift":"push"]((()=>{a=t,n(1,a)}))}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),H(this,t,R,N,a,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
